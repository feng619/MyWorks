<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" ></script>
<style>
svg{outline: 2px solid #aaa}
</style>
</head>
<body>
 

<!--     <svg id="mySvg" width="80" height="80">
      <defs id="mdef">
        <pattern id="image" x="0" y="0" height="40" width="40">
          <image x="0" y="0" width="40" height="40" xlink:href="http://www.e-pint.com/epint.jpg"></image>
        </pattern>
      </defs>
    </svg> -->

<!-- 定義小圓點圖樣 -->
<!-- <svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="circles-1" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSJ3aGl0ZSIgLz4KICA8Y2lyY2xlIGN4PSIxIiBjeT0iMSIgcj0iMSIgZmlsbD0iYmxhY2siLz4KPC9zdmc+" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg> -->


<!-- 合併定義圖樣和圓形 -->
    <svg id='svg' width="800" height="600">
      <defs id="mdef">
        <pattern id="circles-1" patternUnits="userSpaceOnUse" width="800" height="600">
          <image xlink:href="tt01.jpg" x="0" y="0" width="800" height="600"></image>
        </pattern>
      </defs>
    </svg>

    <script>
      // patternUnits="objectBoundingBox" width="1" height="1"
      // var svg = d3.select("body").append("svg").attr("height", "450px").attr("width", "450px")

      var svg = d3.select("#svg");

      svg.append('svg:image')
        .attr('xlink:href','tt01.jpg')
        .attr("x",0)
        .attr("y",0)
        .attr("width",800)
        .attr("height",600);

      svg.append("circle")
               .attr("class", "pic")
               .attr("cx", 400)
               .attr("cy", 300)
               .attr("r", 200)
               .style("fill", "white")
               .style("stroke", "black")
               .style("stroke-width", 0.25);

      svg.append("circle")
               .attr("class", "pic")
               .attr("cx", 400)
               .attr("cy", 300)
               .attr("r", 150)
               .style("fill", "url(#circles-1)")
               .style("stroke", "black")
               .style("stroke-width", 0.25);


        
    </script>
    
</body>
</html>